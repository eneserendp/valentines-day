{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\enes_\\\\Desktop\\\\validate\\\\src\\\\components\\\\AudioPlayer.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useRef } from 'react';\nimport { SpeakerWaveIcon, SpeakerXMarkIcon } from '@heroicons/react/24/outline';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AudioPlayer({\n  currentStoryIndex,\n  currentType\n}) {\n  _s();\n  const [isMuted, setIsMuted] = useState(false);\n  const audioRef = useRef(null);\n  const [isInitialized, setIsInitialized] = useState(false);\n  const songs = [{\n    url: '/audio/song1.mp3',\n    startAt: 0,\n    endAt: 1,\n    title: \"Perfect - Ed Sheeran\"\n  }, {\n    url: '/audio/song4.mp3',\n    // Bizim Şarkımız için özel müzik\n    type: 'music',\n    title: \"Bizim Şarkımız\"\n  }, {\n    url: '/audio/song2.mp3',\n    startAt: 3,\n    endAt: 5,\n    title: \"All of Me - John Legend\"\n  }, {\n    url: '/audio/song3.mp3',\n    startAt: 6,\n    endAt: 8,\n    title: \"Can't Help Falling in Love - Elvis Presley\"\n  }];\n\n  // Sayfa yüklendiğinde bir kere çalışacak\n  useEffect(() => {\n    const initializeAudio = async () => {\n      try {\n        if (!isInitialized && audioRef.current) {\n          const currentSong = songs.find(song => song.startAt === 0 || song.type === 'music');\n          if (currentSong) {\n            audioRef.current.src = currentSong.url;\n            await audioRef.current.play();\n            setIsInitialized(true);\n          }\n        }\n      } catch (error) {\n        console.log(\"Otomatik oynatma hatası:\", error);\n      }\n    };\n    initializeAudio();\n  }, [isInitialized]);\n\n  // Hikaye değiştiğinde çalışacak\n  useEffect(() => {\n    let currentSong;\n    if (currentType === 'music') {\n      currentSong = songs.find(song => song.type === 'music');\n    } else {\n      currentSong = songs.find(song => song.startAt !== undefined && currentStoryIndex >= song.startAt && currentStoryIndex <= song.endAt);\n    }\n    if (currentSong && audioRef.current) {\n      audioRef.current.src = currentSong.url;\n      if (!isMuted) {\n        audioRef.current.play().catch(error => {\n          console.log(\"Ses oynatma hatası:\", error);\n        });\n      }\n    }\n  }, [currentStoryIndex, currentType, isMuted]);\n  const handleMuteToggle = () => {\n    setIsMuted(!isMuted);\n    if (audioRef.current) {\n      if (isMuted) {\n        audioRef.current.play().catch(error => {\n          console.log(\"Ses oynatma hatası:\", error);\n        });\n      } else {\n        audioRef.current.pause();\n      }\n    }\n  };\n\n  // Şarkı bilgisini göstermek için\n  const currentSong = currentType === 'music' ? songs.find(song => song.type === 'music') : songs.find(song => song.startAt !== undefined && currentStoryIndex >= song.startAt && currentStoryIndex <= song.endAt);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"absolute bottom-16 right-4 z-50 flex items-center gap-4\",\n    children: [currentSong && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-white text-sm bg-black bg-opacity-50 px-3 py-1 rounded-full\",\n      children: currentSong.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleMuteToggle,\n      className: \"p-2 rounded-full bg-black bg-opacity-50 hover:bg-opacity-70 transition-all\",\n      children: isMuted ? /*#__PURE__*/_jsxDEV(SpeakerXMarkIcon, {\n        className: \"h-6 w-6 text-white\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(SpeakerWaveIcon, {\n        className: \"h-6 w-6 text-white\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"audio\", {\n      ref: audioRef,\n      loop: true,\n      muted: isMuted\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 5\n  }, this);\n}\n_s(AudioPlayer, \"AKHusCqdIX+a8QGRQ0vTFWV1vAc=\");\n_c = AudioPlayer;\nvar _c;\n$RefreshReg$(_c, \"AudioPlayer\");","map":{"version":3,"names":["useState","useEffect","useRef","SpeakerWaveIcon","SpeakerXMarkIcon","jsxDEV","_jsxDEV","AudioPlayer","currentStoryIndex","currentType","_s","isMuted","setIsMuted","audioRef","isInitialized","setIsInitialized","songs","url","startAt","endAt","title","type","initializeAudio","current","currentSong","find","song","src","play","error","console","log","undefined","catch","handleMuteToggle","pause","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","ref","loop","muted","_c","$RefreshReg$"],"sources":["C:/Users/enes_/Desktop/validate/src/components/AudioPlayer.js"],"sourcesContent":["import { useState, useEffect, useRef } from 'react';\r\nimport { SpeakerWaveIcon, SpeakerXMarkIcon } from '@heroicons/react/24/outline';\r\n\r\nexport default function AudioPlayer({ currentStoryIndex, currentType }) {\r\n  const [isMuted, setIsMuted] = useState(false);\r\n  const audioRef = useRef(null);\r\n  const [isInitialized, setIsInitialized] = useState(false);\r\n\r\n  const songs = [\r\n    {\r\n      url: '/audio/song1.mp3',\r\n      startAt: 0,\r\n      endAt: 1,\r\n      title: \"Perfect - Ed Sheeran\"\r\n    },\r\n    {\r\n      url: '/audio/song4.mp3', // Bizim Şarkımız için özel müzik\r\n      type: 'music',\r\n      title: \"Bizim Şarkımız\"\r\n    },\r\n    {\r\n      url: '/audio/song2.mp3',\r\n      startAt: 3,\r\n      endAt: 5,\r\n      title: \"All of Me - John Legend\"\r\n    },\r\n    {\r\n      url: '/audio/song3.mp3',\r\n      startAt: 6,\r\n      endAt: 8,\r\n      title: \"Can't Help Falling in Love - Elvis Presley\"\r\n    }\r\n  ];\r\n\r\n  // Sayfa yüklendiğinde bir kere çalışacak\r\n  useEffect(() => {\r\n    const initializeAudio = async () => {\r\n      try {\r\n        if (!isInitialized && audioRef.current) {\r\n          const currentSong = songs.find(\r\n            song => song.startAt === 0 || song.type === 'music'\r\n          );\r\n          if (currentSong) {\r\n            audioRef.current.src = currentSong.url;\r\n            await audioRef.current.play();\r\n            setIsInitialized(true);\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.log(\"Otomatik oynatma hatası:\", error);\r\n      }\r\n    };\r\n\r\n    initializeAudio();\r\n  }, [isInitialized]);\r\n\r\n  // Hikaye değiştiğinde çalışacak\r\n  useEffect(() => {\r\n    let currentSong;\r\n    \r\n    if (currentType === 'music') {\r\n      currentSong = songs.find(song => song.type === 'music');\r\n    } else {\r\n      currentSong = songs.find(\r\n        song => song.startAt !== undefined && \r\n        currentStoryIndex >= song.startAt && \r\n        currentStoryIndex <= song.endAt\r\n      );\r\n    }\r\n\r\n    if (currentSong && audioRef.current) {\r\n      audioRef.current.src = currentSong.url;\r\n      if (!isMuted) {\r\n        audioRef.current.play().catch(error => {\r\n          console.log(\"Ses oynatma hatası:\", error);\r\n        });\r\n      }\r\n    }\r\n  }, [currentStoryIndex, currentType, isMuted]);\r\n\r\n  const handleMuteToggle = () => {\r\n    setIsMuted(!isMuted);\r\n    if (audioRef.current) {\r\n      if (isMuted) {\r\n        audioRef.current.play().catch(error => {\r\n          console.log(\"Ses oynatma hatası:\", error);\r\n        });\r\n      } else {\r\n        audioRef.current.pause();\r\n      }\r\n    }\r\n  };\r\n\r\n  // Şarkı bilgisini göstermek için\r\n  const currentSong = currentType === 'music' \r\n    ? songs.find(song => song.type === 'music')\r\n    : songs.find(\r\n        song => song.startAt !== undefined && \r\n        currentStoryIndex >= song.startAt && \r\n        currentStoryIndex <= song.endAt\r\n      );\r\n\r\n  return (\r\n    <div className=\"absolute bottom-16 right-4 z-50 flex items-center gap-4\">\r\n      {currentSong && (\r\n        <div className=\"text-white text-sm bg-black bg-opacity-50 px-3 py-1 rounded-full\">\r\n          {currentSong.title}\r\n        </div>\r\n      )}\r\n      <button\r\n        onClick={handleMuteToggle}\r\n        className=\"p-2 rounded-full bg-black bg-opacity-50 hover:bg-opacity-70 transition-all\"\r\n      >\r\n        {isMuted ? (\r\n          <SpeakerXMarkIcon className=\"h-6 w-6 text-white\" />\r\n        ) : (\r\n          <SpeakerWaveIcon className=\"h-6 w-6 text-white\" />\r\n        )}\r\n      </button>\r\n      <audio ref={audioRef} loop={true} muted={isMuted} />\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}