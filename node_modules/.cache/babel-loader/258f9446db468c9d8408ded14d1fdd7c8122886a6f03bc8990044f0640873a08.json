{"ast":null,"code":"import{useState,useEffect,useRef}from'react';import{PlayIcon,PauseIcon}from'@heroicons/react/24/outline';// songs array'ini component dışına taşıyalım\nimport{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const SONGS=[{url:'/audio/song1.mp3',// Giriş mesajı\ntype:'message',title:'Romantik Giriş'},{url:'/audio/song2.mp3',// İlk buluşma\ntype:'photo',title:'İlk Buluşma'},{url:'/audio/song3.mp3',// Film anısı\ntype:'memory',memoryTitle:'İlk İzlediğimiz Film'},{url:'/audio/song15.mp3',// Kahve molası\ntype:'memory',memoryTitle:'İlk Kahve Molası'},{url:'/audio/song5.mp3',// İlk tatil\ntype:'photo',title:'İlk Tatilimiz'},{url:'/audio/song17.mp3',// İlk yemek denemesi\ntype:'memory',memoryTitle:'İlk Yemek Denemem'},{url:'/audio/song4.mp3',// Bizim şarkılarımız\ntype:'music',title:'Bizim Şarkımız'},{url:'/audio/song16.mp3',// İlk sürpriz\ntype:'memory',memoryTitle:'İlk Sürprizin'},{url:'/audio/song9.mp3',// İlk dans\ntype:'memory',memoryTitle:'İlk Dans'},{url:'/audio/song10.mp3',// Gizli notlar\ntype:'memory',memoryTitle:'Gizli Notlar'},{url:'/audio/song11.mp3',// Yıldızların altında\ntype:'memory',memoryTitle:'Yıldızların Altında'},{url:'/audio/song12.mp3',// Küçük sürprizler\ntype:'memory',memoryTitle:'Küçük Sürprizler'},{url:'/audio/song13.mp3',// Bizim yerimiz\ntype:'memory',memoryTitle:'Bizim Yerimiz'},{url:'/audio/song4.mp3',// Son mesaj\ntype:'message',title:'Seni Seviyorum'}];export default function AudioPlayer(_ref){let{currentStoryIndex,currentType,stories}=_ref;const[isPlaying,setIsPlaying]=useState(false);const audioRef=useRef(null);useEffect(()=>{let currentSong;if(currentType==='music'){currentSong=SONGS.find(song=>song.type==='music');}else if(currentType==='memory'){const currentStory=stories[currentStoryIndex];currentSong=SONGS.find(song=>song.type==='memory'&&song.memoryTitle===currentStory.title);}else if(currentStoryIndex===stories.length-1){currentSong=SONGS.find(song=>song.url==='/audio/song4.mp3');}else{currentSong=SONGS.find(song=>song.type===currentType);}if(!currentSong){currentSong=SONGS[0];}if(currentSong&&audioRef.current){audioRef.current.src=currentSong.url;if(isPlaying){audioRef.current.play().catch(error=>{console.log('Ses oynatma hatası:',error);});}}},[currentStoryIndex,currentType,isPlaying,stories]);const togglePlay=()=>{if(audioRef.current){if(isPlaying){audioRef.current.pause();}else{audioRef.current.play().catch(error=>{console.log('Ses oynatma hatası:',error);});}setIsPlaying(!isPlaying);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"absolute bottom-8 right-8 z-50\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:togglePlay,className:\"px-6 py-3 rounded-full bg-valentine-500 hover:bg-valentine-600 text-white flex items-center gap-2 shadow-lg transition-all\",children:isPlaying?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(PauseIcon,{className:\"h-6 w-6\"}),/*#__PURE__*/_jsx(\"span\",{children:\"M\\xFCzi\\u011Fi Durdur\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(PlayIcon,{className:\"h-6 w-6\"}),/*#__PURE__*/_jsx(\"span\",{children:\"M\\xFCzi\\u011Fi Ba\\u015Flat\"})]})}),/*#__PURE__*/_jsx(\"audio\",{ref:audioRef,loop:true})]});}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}