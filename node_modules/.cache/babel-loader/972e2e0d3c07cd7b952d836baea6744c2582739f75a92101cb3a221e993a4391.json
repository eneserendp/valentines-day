{"ast":null,"code":"import{motion,AnimatePresence}from'framer-motion';import{useState,useEffect,useCallback}from'react';import{ChevronLeftIcon,ChevronRightIcon,HeartIcon,MusicalNoteIcon}from'@heroicons/react/24/outline';import AudioPlayer from'./AudioPlayer';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Story(_ref){let{stories}=_ref;const[currentIndex,setCurrentIndex]=useState(0);const[direction,setDirection]=useState(0);const paginate=useCallback(newDirection=>{if(currentIndex+newDirection>=0&&currentIndex+newDirection<stories.length){setDirection(newDirection);setCurrentIndex(currentIndex+newDirection);}},[currentIndex,stories.length]);useEffect(()=>{const handleKeyDown=e=>{if(e.key==='ArrowRight'){paginate(1);}else if(e.key==='ArrowLeft'){paginate(-1);}};window.addEventListener('keydown',handleKeyDown);return()=>window.removeEventListener('keydown',handleKeyDown);},[paginate]);const slideVariants={enter:direction=>({x:direction>0?1000:-1000,opacity:0}),center:{zIndex:1,x:0,opacity:1},exit:direction=>({zIndex:0,x:direction<0?1000:-1000,opacity:0})};const swipeConfidenceThreshold=10000;const swipePower=(offset,velocity)=>{return Math.abs(offset)*velocity;};return/*#__PURE__*/_jsxs(\"div\",{className:\"relative h-screen w-full overflow-hidden bg-gradient-to-b from-black to-valentine-500\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-0 left-0 right-0 z-50 flex gap-1 p-2\",children:stories.map((_,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"h-1 flex-1 rounded-full bg-white bg-opacity-30 cursor-pointer\",onClick:()=>setCurrentIndex(index),children:/*#__PURE__*/_jsx(motion.div,{className:\"h-full rounded-full bg-white\",initial:{width:0},animate:{width:index===currentIndex?'100%':index<currentIndex?'100%':'0%'},transition:{duration:index===currentIndex?5:0}})},index))}),/*#__PURE__*/_jsx(AnimatePresence,{initial:false,custom:direction,mode:\"wait\",children:/*#__PURE__*/_jsx(motion.div,{custom:direction,variants:slideVariants,initial:\"enter\",animate:\"center\",exit:\"exit\",transition:{x:{type:'spring',stiffness:300,damping:30},opacity:{duration:0.2}},drag:\"x\",dragConstraints:{left:0,right:0},dragElastic:1,onDragEnd:(e,_ref2)=>{let{offset,velocity}=_ref2;const swipe=swipePower(offset.x,velocity.x);if(swipe<-swipeConfidenceThreshold){paginate(1);}else if(swipe>swipeConfidenceThreshold){paginate(-1);}},className:\"absolute inset-0 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative w-full max-w-4xl mx-auto p-6\",children:stories[currentIndex].type==='photo'?/*#__PURE__*/_jsx(PhotoStory,{story:stories[currentIndex]}):stories[currentIndex].type==='music'?/*#__PURE__*/_jsx(MusicStory,{story:stories[currentIndex]}):stories[currentIndex].type==='memory'?/*#__PURE__*/_jsx(MemoryStory,{story:stories[currentIndex]}):/*#__PURE__*/_jsx(MessageStory,{story:stories[currentIndex]})})},currentIndex)}),currentIndex>0&&/*#__PURE__*/_jsx(\"button\",{className:\"absolute left-4 top-1/2 transform -translate-y-1/2 p-4 rounded-full bg-white bg-opacity-30 hover:bg-opacity-50 transition-all shadow-lg z-50\",onClick:()=>paginate(-1),children:/*#__PURE__*/_jsx(ChevronLeftIcon,{className:\"h-8 w-8 text-white\"})}),currentIndex<stories.length-1&&/*#__PURE__*/_jsx(\"button\",{className:\"absolute right-4 top-1/2 transform -translate-y-1/2 p-4 rounded-full bg-white bg-opacity-30 hover:bg-opacity-50 transition-all shadow-lg z-50\",onClick:()=>paginate(1),children:/*#__PURE__*/_jsx(ChevronRightIcon,{className:\"h-8 w-8 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-50 px-4 py-2 rounded-full text-white\",children:[currentIndex+1,\" / \",stories.length]}),/*#__PURE__*/_jsx(AudioPlayer,{currentStoryIndex:currentIndex,currentType:stories[currentIndex].type,stories:stories})]});}function PhotoStory(_ref3){let{story}=_ref3;return/*#__PURE__*/_jsxs(motion.div,{initial:{scale:0.8,opacity:0},animate:{scale:1,opacity:1},className:\"bg-white rounded-xl p-8 shadow-2xl\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsx(\"img\",{src:story.image,alt:story.description,className:\"w-full h-64 object-cover rounded-lg shadow-md\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-valentine-500 font-semibold\",children:story.date}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mt-2\",children:story.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-2\",children:story.description})]})]});}function MusicStory(_ref4){let{story}=_ref4;return/*#__PURE__*/_jsxs(motion.div,{initial:{scale:0.8,opacity:0},animate:{scale:1,opacity:1},className:\"bg-white rounded-xl p-6 shadow-2xl\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 mb-6\",children:[/*#__PURE__*/_jsx(MusicalNoteIcon,{className:\"h-8 w-8 text-valentine-500\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold\",children:\"Bizim \\u015Eark\\u0131m\\u0131z\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 gap-4\",children:story.songs.map((song,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 bg-gray-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-valentine-100 rounded-md flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-3xl\",children:index===0?'ðŸŽµ':'ðŸŽ¶'})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold\",children:song.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-sm\",children:song.artist})]})]},index))})]});}function MemoryStory(_ref5){let{story}=_ref5;return/*#__PURE__*/_jsxs(motion.div,{initial:{scale:0.8,opacity:0},animate:{scale:1,opacity:1},className:\"bg-white rounded-xl p-8 shadow-2xl\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 mb-6\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-4xl\",children:story.icon}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold\",children:story.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-valentine-500\",children:story.date})]})]}),story.image&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsx(\"img\",{src:story.image,alt:story.title,className:\"w-full h-auto max-h-[500px] object-contain rounded-lg shadow-md\"})}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 text-lg mb-6 italic\",children:[\"\\\"\",story.description,\"\\\"\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-4 space-y-2\",children:[story.movie&&/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium\",children:[\"\\uD83C\\uDFAC Film: \",story.movie]}),story.place&&/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium\",children:[\"\\uD83D\\uDCCD Mekan: \",story.place]}),story.order&&/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium\",children:[\"\\uD83C\\uDF75 Sipari\\u015F: \",story.order]}),story.dish&&/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium\",children:[\"\\uD83D\\uDC68\\u200D\\uD83C\\uDF73 Yemek: \",story.dish]}),story.gift&&/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium\",children:[\"\\uD83C\\uDF81 Hediye: \",story.gift]}),story.song&&/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium\",children:[\"\\uD83C\\uDFB5 \\u015Eark\\u0131: \",story.song]}),story.result&&/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mt-2\",children:story.result}),story.reaction&&/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mt-2\",children:story.reaction}),story.moment&&/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mt-2\",children:story.moment})]})]});}function MessageStory(_ref6){let{story}=_ref6;return/*#__PURE__*/_jsxs(motion.div,{initial:{scale:0.8,opacity:0},animate:{scale:1,opacity:1},className:\"bg-white rounded-xl p-8 shadow-2xl text-center\",children:[/*#__PURE__*/_jsx(HeartIcon,{className:\"h-12 w-12 text-valentine-500 mx-auto mb-6\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold mb-4\",children:story.title}),story.image&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsx(\"img\",{src:story.image,alt:story.title,className:\"w-full h-64 object-cover rounded-lg shadow-md\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl text-gray-600\",children:story.message})]});}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}